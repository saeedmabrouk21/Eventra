
# Eventra

# Event-driven-user-platform
## User Stories & System Requirements[Generated by AI]

## ğŸ§‘â€ğŸ’¼ Actors

* **End User** â€“ uses the platform
* **Tenant Admin** â€“ manages users within a tenant
* **System** â€“ background processing & integrations
* **Platform Admin (optional)** â€“ global oversight

---

## ğŸ” Authentication & Multi-Tenancy

### US-1: Tenant Signup

**As a** Tenant Admin
**I want** to create a new tenant account
**So that** I can manage users for my organization

**Acceptance Criteria**

* Tenant is created successfully
* Admin user is assigned to the tenant
* `tenant.created` domain event is emitted

---

### US-2: User Signup

**As an** End User
**I want** to sign up under a tenant
**So that** I can access the platform

**Acceptance Criteria**

* User belongs to a tenant
* Email is unique per tenant
* `user.created` domain event is emitted

---

### US-3: User Login

**As an** End User
**I want** to log in securely
**So that** I can access my profile

**Acceptance Criteria**

* JWT or session is issued
* Login activity is tracked
* `user.logged_in` domain event is emitted

---

## ğŸ‘¤ User Management

### US-4: View Profile

**As an** End User
**I want** to view my profile details
**So that** I can verify my information

**Acceptance Criteria**

* User can retrieve their own profile
* Tenant isolation is enforced

---

### US-5: Update Profile

**As an** End User
**I want** to update my profile
**So that** my information stays current

**Acceptance Criteria**

* Profile changes are persisted
* `user.updated` domain event is emitted
* Audit log entry is created

---

### US-6: Admin Updates User

**As a** Tenant Admin
**I want** to update a userâ€™s role or status
**So that** I can manage access

**Acceptance Criteria**

* Role changes are validated
* `user.updated` domain event is emitted
* Search index is updated asynchronously

---

### US-7: Deactivate User

**As a** Tenant Admin
**I want** to deactivate a user
**So that** they can no longer log in

**Acceptance Criteria**

* User cannot authenticate after deactivation
* `user.deleted` or `user.deactivated` event is emitted
* Audit log entry is recorded

---

## ğŸ“© Email Notifications (Asynchronous)

### US-8: Welcome Email

**As an** End User
**I want** to receive a welcome email after signup
**So that** I know my account was created

**Technical Notes**

* Triggered by `user.created`
* Processed asynchronously
* Automatic retries on transient failures

---

### US-9: Profile Update Email

**As an** End User
**I want** to be notified when my profile changes
**So that** Iâ€™m aware of updates

**Acceptance Criteria**

* Email is sent asynchronously
* Retries are applied on failure
* Duplicate notifications are avoided

---

## ğŸ“Š Activity Tracking

### US-10: Track User Activity

**As the** System
**I want** to record user actions
**So that** activity can be audited later

**Tracked Actions**

* Login
* Profile update
* Role change

---

### US-11: View Activity Log

**As a** Tenant Admin
**I want** to view user activity logs
**So that** I can audit behavior

**Acceptance Criteria**

* Results are tenant-scoped
* Logs are paginated
* Logs are searchable

---

## ğŸ” Search & Audit Logs

### US-12: Search Users

**As a** Tenant Admin
**I want** to search users by name or email
**So that** I can find them quickly

**Acceptance Criteria**

* Full-text search support
* Tenant isolation enforced
* Results returned from search index

---

### US-13: Search Audit Events

**As a** Tenant Admin
**I want** to search audit logs
**So that** I can investigate incidents

**Search Filters**

* Event type
* User ID
* Date range

---

## ğŸ” Event Processing (System Stories)

### US-14: Publish Domain Events

**As the** System
**I want** to publish domain events
**So that** other services can react asynchronously

**Events**

* `user.created`
* `user.updated`
* `user.deleted`

---

### US-15: Consume Domain Events

**As the** System
**I want** to consume events reliably
**So that** background processing is consistent

**Acceptance Criteria**

* Manual acknowledgements
* Dead-letter handling on failure
* Metrics and logs are recorded

---

### US-16: Retry Failed Jobs

**As the** System
**I want** to retry failed background jobs
**So that** temporary errors do not cause data loss

**Acceptance Criteria**

* Exponential backoff
* Maximum retry limit
* Dead jobs are visible for inspection

---

## ğŸ§ª Quality & Testing

### US-17: API Tests

**As a** Developer
**I want** API endpoints tested
**So that** regressions are prevented

---

### US-18: Event Publishing Tests

**As a** Developer
**I want** to verify domain events are emitted
**So that** integrations are reliable

---

### US-19: Consumer Tests

**As a** Developer
**I want** to test event consumers
**So that** malformed events do not break the system

---

### US-20: Job Processing Tests

**As a** Developer
**I want** to test background jobs
**So that** retries and failures are handled correctly

---

## â˜ï¸ Deployment & Operations

### US-21: Deploy API Service

**As a** Platform Admin
**I want** to deploy the Rails API to ECS
**So that** it can scale automatically

---

### US-22: Deploy Background Workers

**As a** Platform Admin
**I want** background workers deployed as separate services
**So that** they can scale independently

---

### US-23: Monitor System Health

**As a** Platform Admin
**I want** to monitor logs and metrics
**So that** failures are detected early

---

## ğŸ§  Advanced / Senior-Level Stories (Optional)

### US-24: Idempotent Event Handling

**As the** System
**I want** event handling to be idempotent
**So that** duplicate events do not cause side effects

---

### US-25: Rate-Limit Emails

**As the** System
**I want** to rate-limit outgoing emails
**So that** users are not spammed




